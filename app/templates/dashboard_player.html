<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChessMon - Player Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .chess-board-pattern {
            background-image: 
                repeating-conic-gradient(#fef7ed 0% 25%, #fed7aa 25% 50%);
            background-size: 40px 40px;
        }
        
        .card-elegant {
            background: linear-gradient(145deg, #fefcfb, #fef7ed);
            box-shadow: 
                0 10px 25px -5px rgba(120, 53, 15, 0.1),
                0 5px 10px -5px rgba(120, 53, 15, 0.04);
        }
        
        .navbar-elegant {
            background: linear-gradient(135deg, #78350f, #92400e);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(120, 53, 15, 0.3);
        }
        
        .btn-elegant:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 20px rgba(120, 53, 15, 0.2);
        }
        
        .table-elegant {
            background: rgba(254, 252, 251, 0.8);
            backdrop-filter: blur(5px);
        }
        
        .pattern-overlay {
            background-image: 
                radial-gradient(circle at 20% 20%, rgba(251, 191, 36, 0.05) 0%, transparent 30%),
                radial-gradient(circle at 80% 80%, rgba(120, 53, 15, 0.03) 0%, transparent 30%);
        }
        
        .player-badge {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #78350f;
            font-weight: bold;
        }
        
        .opponent-badge {
            background: linear-gradient(135deg, #e5e7eb, #d1d5db);
            color: #374151;
            font-weight: bold;
        }
    </style>
</head>
<body class="min-h-screen bg-amber-50 chess-board-pattern pattern-overlay">
    <!-- Navigation Bar -->
    <nav class="navbar-elegant border-b-2 border-amber-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <i class="fas fa-chess-knight text-2xl text-amber-100 mr-3"></i>
                    <h1 class="text-xl font-bold text-white">ChessMon Player</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-amber-100 font-medium">
                        <i class="fas fa-user mr-2"></i>
                        Welcome, {{ current_user.username }}
                    </span>
                    <a href="{{ url_for('logout') }}" class="bg-amber-700 hover:bg-amber-600 text-white px-4 py-2 rounded-lg transition-all duration-200 font-medium">
                        <i class="fas fa-sign-out-alt mr-2"></i>Logout
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Player Welcome Section -->
        <div class="card-elegant rounded-2xl p-8 border-2 border-amber-200 mb-8">
            <div class="text-center">
                <div class="text-6xl text-amber-800 mb-4">
                    <i class="fas fa-chess-king"></i>
                </div>
                <h1 class="text-3xl font-bold text-amber-900 mb-2">Welcome to Your Chess Arena</h1>
                <p class="text-amber-700 text-lg font-medium">Ready to conquer the board, {{ current_user.username }}?</p>
                <div class="w-24 h-1 bg-amber-600 mx-auto mt-4 rounded-full"></div>
            </div>
        </div>

        <!-- My Matches Section -->
        <div class="card-elegant rounded-2xl p-6 border-2 border-amber-200">
            <div class="flex items-center mb-6">
                <i class="fas fa-trophy text-2xl text-amber-800 mr-3"></i>
                <h2 class="text-xl font-bold text-amber-900">My Chess Matches</h2>
            </div>
            
            <div class="overflow-x-auto">
                <div class="table-elegant rounded-xl border-2 border-amber-200 overflow-hidden">
                    <table class="w-full">
                        <thead class="bg-amber-800 text-white">
                            <tr>
                                <th class="px-6 py-4 text-left font-bold">
                                    <i class="fas fa-hashtag mr-2"></i>Match ID
                                </th>
                                <th class="px-6 py-4 text-left font-bold">
                                    <i class="fas fa-chess-pawn mr-2"></i>Opponent
                                </th>
                                <th class="px-6 py-4 text-left font-bold">
                                    <i class="fas fa-calendar mr-2"></i>Match Date
                                </th>
                                <th class="px-6 py-4 text-left font-bold">
                                    <i class="fas fa-chess-piece mr-2"></i>Your Role
                                </th>
                                <th class="px-6 py-4 text-left font-bold">
                                    <i class="fas fa-gamepad mr-2"></i>Actions
                                </th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-amber-200">
                            {% for match in matches %}
                            <tr class="hover:bg-amber-100 transition-colors duration-200">
                                <td class="px-6 py-4 font-semibold text-amber-900">
                                    <span class="bg-amber-200 px-3 py-1 rounded-full text-sm">#{{ match.id }}</span>
                                </td>
                                <td class="px-6 py-4 text-amber-800 font-medium">
                                    <div class="flex items-center">
                                        <div class="w-8 h-8 bg-amber-600 rounded-full flex items-center justify-center mr-3">
                                            <i class="fas fa-user text-white text-sm"></i>
                                        </div>
                                        <span>
                                            {% if match.player1_id == current_user.id %}
                                                {{ match.player2.username }}
                                            {% else %}
                                                {{ match.player1.username }}
                                            {% endif %}
                                        </span>
                                    </div>
                                </td>
                                <td class="px-6 py-4 text-amber-700 font-medium">
                                    <div class="flex items-center">
                                        <i class="fas fa-clock mr-2 text-amber-500"></i>
                                        {{ match.date_created.strftime('%Y-%m-%d %H:%M') }}
                                    </div>
                                </td>
                                <td class="px-6 py-4">
                                    {% if match.player1_id == current_user.id %}
                                        <span class="player-badge px-3 py-1 rounded-full text-sm">
                                            <i class="fas fa-chess-king mr-1"></i>Player 1
                                        </span>
                                    {% else %}
                                        <span class="opponent-badge px-3 py-1 rounded-full text-sm">
                                            <i class="fas fa-chess-queen mr-1"></i>Player 2
                                        </span>
                                    {% endif %}
                                </td>
                                <td class="px-6 py-4">
                                    <a href="{{ url_for('match_detail', match_id=match.id) }}" class="bg-amber-700 hover:bg-amber-800 text-white px-6 py-2 rounded-lg transition-all duration-200 font-medium btn-elegant inline-flex items-center">
                                        <i class="fas fa-play mr-2"></i>Start Playing
                                    </a>
                                </td>
                            </tr>
                            {% else %}
                            <tr>
                                <td colspan="5" class="px-6 py-16 text-center text-amber-600">
                                    <div class="flex flex-col items-center">
                                        <i class="fas fa-chess-board text-6xl text-amber-400 mb-6"></i>
                                        <h3 class="text-xl font-bold text-amber-800 mb-2">No matches available</h3>
                                        <p class="text-amber-600 mb-4">Wait for an admin to create a match for you</p>
                                        <div class="flex items-center text-sm text-amber-500">
                                            <i class="fas fa-info-circle mr-2"></i>
                                            Contact your admin to set up new chess matches
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- Chess Stats Footer -->
        <div class="mt-8 text-center">
            <div class="flex justify-center items-center space-x-6">
                <div class="text-center">
                    <i class="fas fa-chess-pawn text-2xl text-amber-600 mb-2"></i>
                    <p class="text-amber-700 font-medium text-sm">Ready</p>
                </div>
                <div class="text-center">
                    <i class="fas fa-chess-rook text-2xl text-amber-700 mb-2"></i>
                    <p class="text-amber-700 font-medium text-sm">Set</p>
                </div>
                <div class="text-center">
                    <i class="fas fa-chess-queen text-2xl text-amber-800 mb-2"></i>
                    <p class="text-amber-700 font-medium text-sm">Play!</p>
                </div>
            </div>
        </div>
    </div>

</body>
</html>